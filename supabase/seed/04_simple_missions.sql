-- ============================================
-- 04 - MISSIONS ET INSCRIPTIONS (DONN√âES R√âELLES)
-- ============================================
-- Focus: RESTOS DU C≈íUR + √©tudiants de SCHOOL TEST
-- ============================================

-- MISSIONS POUR RESTOS DU COEUR (Pierre Dubois & Julie Bernard)
INSERT INTO missions (id, association_id, association_member_id, title, description, status, start_at, end_at, maximum_participant, recurrence_type, created_at, updated_at) VALUES
  -- MISSIONS PASS√âES (compl√©t√©es)
  ('mm111111-1111-1111-1111-111111111111', '2aef6ea1-38e7-4a66-b4dd-81b1d0c45501', '2e0299e4-3dc2-4f3c-b3ec-c81dd2eb4a3f', 'Distribution repas du midi', 'Distribution de repas chauds aux personnes en difficult√©', 'PUBLISHED', NOW() - INTERVAL '60 days', NOW() - INTERVAL '60 days' + INTERVAL '3 hours', 20, 'WEEKLY', NOW() - INTERVAL '90 days', NOW()),
  ('mm222222-2222-2222-2222-222222222222', '2aef6ea1-38e7-4a66-b4dd-81b1d0c45501', '2e0299e4-3dc2-4f3c-b3ec-c81dd2eb4a3f', 'Collecte alimentaire supermarch√©', 'Collecte de dons dans les grandes surfaces', 'PUBLISHED', NOW() - INTERVAL '50 days', NOW() - INTERVAL '50 days' + INTERVAL '4 hours', 15, 'NONE', NOW() - INTERVAL '70 days', NOW()),
  ('mm333333-3333-3333-3333-333333333333', '2aef6ea1-38e7-4a66-b4dd-81b1d0c45501', '842f105d-1267-4d8b-87ae-05ed91af492e', 'Tri des denr√©es alimentaires', 'Tri et organisation des stocks de nourriture', 'PUBLISHED', NOW() - INTERVAL '40 days', NOW() - INTERVAL '40 days' + INTERVAL '3 hours', 12, 'WEEKLY', NOW() - INTERVAL '60 days', NOW()),
  ('mm444444-4444-4444-4444-444444444444', '2aef6ea1-38e7-4a66-b4dd-81b1d0c45501', '2e0299e4-3dc2-4f3c-b3ec-c81dd2eb4a3f', 'Maraude hivernale', 'Distribution de repas et couvertures aux sans-abris', 'PUBLISHED', NOW() - INTERVAL '35 days', NOW() - INTERVAL '35 days' + INTERVAL '4 hours', 10, 'WEEKLY', NOW() - INTERVAL '50 days', NOW()),
  ('mm555555-5555-5555-5555-555555555555', '2aef6ea1-38e7-4a66-b4dd-81b1d0c45501', '842f105d-1267-4d8b-87ae-05ed91af492e', 'Atelier cuisine solidaire', 'Pr√©paration de repas avec les b√©n√©ficiaires', 'PUBLISHED', NOW() - INTERVAL '25 days', NOW() - INTERVAL '25 days' + INTERVAL '3 hours', 8, 'MONTHLY', NOW() - INTERVAL '40 days', NOW()),
  
  -- MISSIONS EN COURS
  ('mm666666-6666-6666-6666-666666666666', '2aef6ea1-38e7-4a66-b4dd-81b1d0c45501', '2e0299e4-3dc2-4f3c-b3ec-c81dd2eb4a3f', 'Distribution repas du soir', 'Distribution hebdomadaire de repas chauds', 'PUBLISHED', NOW() - INTERVAL '2 days', NOW() + INTERVAL '1 day', 25, 'WEEKLY', NOW() - INTERVAL '15 days', NOW()),
  ('mm777777-7777-7777-7777-777777777777', '2aef6ea1-38e7-4a66-b4dd-81b1d0c45501', '842f105d-1267-4d8b-87ae-05ed91af492e', 'Aide aux devoirs enfants', 'Soutien scolaire pour enfants de familles en difficult√©', 'PUBLISHED', NOW() - INTERVAL '1 day', NOW() + INTERVAL '3 days', 15, 'WEEKLY', NOW() - INTERVAL '10 days', NOW()),
  
  -- MISSIONS FUTURES
  ('mm888888-8888-8888-8888-888888888888', '2aef6ea1-38e7-4a66-b4dd-81b1d0c45501', '2e0299e4-3dc2-4f3c-b3ec-c81dd2eb4a3f', 'Grande collecte de No√´l', 'Collecte sp√©ciale pour les f√™tes de fin d''ann√©e', 'PUBLISHED', NOW() + INTERVAL '5 days', NOW() + INTERVAL '5 days' + INTERVAL '6 hours', 30, 'NONE', NOW() - INTERVAL '5 days', NOW()),
  ('mm999999-9999-9999-9999-999999999999', '2aef6ea1-38e7-4a66-b4dd-81b1d0c45501', '842f105d-1267-4d8b-87ae-05ed91af492e', 'Permanence accueil', 'Accueil et √©coute des b√©n√©ficiaires', 'PUBLISHED', NOW() + INTERVAL '10 days', NOW() + INTERVAL '10 days' + INTERVAL '4 hours', 10, 'WEEKLY', NOW() - INTERVAL '3 days', NOW()),
  ('mm101010-1010-1010-1010-101010101010', '2aef6ea1-38e7-4a66-b4dd-81b1d0c45501', '2e0299e4-3dc2-4f3c-b3ec-c81dd2eb4a3f', 'Collecte vestimentaire', 'Collecte et tri de v√™tements pour l''hiver', 'PUBLISHED', NOW() + INTERVAL '15 days', NOW() + INTERVAL '15 days' + INTERVAL '5 hours', 20, 'MONTHLY', NOW() - INTERVAL '2 days', NOW()),
  ('mm111100-1111-1111-1111-111111111111', '2aef6ea1-38e7-4a66-b4dd-81b1d0c45501', '842f105d-1267-4d8b-87ae-05ed91af492e', 'Livraison √† domicile', 'Livraison de colis alimentaires aux personnes √¢g√©es', 'PUBLISHED', NOW() + INTERVAL '20 days', NOW() + INTERVAL '20 days' + INTERVAL '4 hours', 12, 'WEEKLY', NOW() - INTERVAL '1 day', NOW()),
  ('mm222200-2222-2222-2222-222222222222', '2aef6ea1-38e7-4a66-b4dd-81b1d0c45501', '2e0299e4-3dc2-4f3c-b3ec-c81dd2eb4a3f', 'Banque alimentaire', 'Aide √† la banque alimentaire locale', 'PUBLISHED', NOW() + INTERVAL '25 days', NOW() + INTERVAL '25 days' + INTERVAL '6 hours', 25, 'NONE', NOW(), NOW()),
  ('mm333300-3333-3333-3333-333333333333', '2aef6ea1-38e7-4a66-b4dd-81b1d0c45501', '842f105d-1267-4d8b-87ae-05ed91af492e', 'Sensibilisation gaspillage', 'Ateliers de sensibilisation au gaspillage alimentaire', 'PUBLISHED', NOW() + INTERVAL '30 days', NOW() + INTERVAL '30 days' + INTERVAL '3 hours', 15, 'MONTHLY', NOW(), NOW())
ON CONFLICT (id) DO NOTHING;

ON CONFLICT (id) DO NOTHING;

-- INSCRIPTIONS DES √âTUDIANTS DE SCHOOL TEST
-- Tous les √©tudiants participent massivement aux missions Restos du C≈ìur
INSERT INTO mission_registrations (id, mission_id, school_member_id, status, created_at, updated_at) VALUES
  -- Sophie Martin (L1) - 5 missions
  ('rr111111-1111-1111-1111-111111111111', 'mm111111-1111-1111-1111-111111111111', '88888888-8888-8888-8888-888888888881', 'COMPLETED', NOW() - INTERVAL '60 days', NOW() - INTERVAL '60 days'),
  ('rr111112-1111-1111-1111-111111111111', 'mm222222-2222-2222-2222-222222222222', '88888888-8888-8888-8888-888888888881', 'COMPLETED', NOW() - INTERVAL '50 days', NOW() - INTERVAL '50 days'),
  ('rr111113-1111-1111-1111-111111111111', 'mm333333-3333-3333-3333-333333333333', '88888888-8888-8888-8888-888888888881', 'COMPLETED', NOW() - INTERVAL '40 days', NOW() - INTERVAL '40 days'),
  ('rr111114-1111-1111-1111-111111111111', 'mm666666-6666-6666-6666-666666666666', '88888888-8888-8888-8888-888888888881', 'CONFIRMED', NOW() - INTERVAL '2 days', NOW()),
  ('rr111115-1111-1111-1111-111111111111', 'mm888888-8888-8888-8888-888888888888', '88888888-8888-8888-8888-888888888881', 'PENDING', NOW() + INTERVAL '5 days', NOW()),
  
  -- Lucas Bernard (L1) - 6 missions
  ('rr222221-1111-1111-1111-111111111111', 'mm111111-1111-1111-1111-111111111111', '88888888-8888-8888-8888-888888888882', 'COMPLETED', NOW() - INTERVAL '60 days', NOW() - INTERVAL '60 days'),
  ('rr222222-1111-1111-1111-111111111111', 'mm333333-3333-3333-3333-333333333333', '88888888-8888-8888-8888-888888888882', 'COMPLETED', NOW() - INTERVAL '40 days', NOW() - INTERVAL '40 days'),
  ('rr222223-1111-1111-1111-111111111111', 'mm444444-4444-4444-4444-444444444444', '88888888-8888-8888-8888-888888888882', 'COMPLETED', NOW() - INTERVAL '35 days', NOW() - INTERVAL '35 days'),
  ('rr222224-1111-1111-1111-111111111111', 'mm777777-7777-7777-7777-777777777777', '88888888-8888-8888-8888-888888888882', 'CONFIRMED', NOW() - INTERVAL '1 day', NOW()),
  ('rr222225-1111-1111-1111-111111111111', 'mm999999-9999-9999-9999-999999999999', '88888888-8888-8888-8888-888888888882', 'PENDING', NOW() + INTERVAL '10 days', NOW()),
  ('rr222226-1111-1111-1111-111111111111', 'mm111100-1111-1111-1111-111111111111', '88888888-8888-8888-8888-888888888882', 'PENDING', NOW() + INTERVAL '20 days', NOW()),
  
  -- Emma Dubois (L2) - 5 missions
  ('rr333331-1111-1111-1111-111111111111', 'mm222222-2222-2222-2222-222222222222', '88888888-8888-8888-8888-888888888883', 'COMPLETED', NOW() - INTERVAL '50 days', NOW() - INTERVAL '50 days'),
  ('rr333332-1111-1111-1111-111111111111', 'mm444444-4444-4444-4444-444444444444', '88888888-8888-8888-8888-888888888883', 'COMPLETED', NOW() - INTERVAL '35 days', NOW() - INTERVAL '35 days'),
  ('rr333333-1111-1111-1111-111111111111', 'mm555555-5555-5555-5555-555555555555', '88888888-8888-8888-8888-888888888883', 'COMPLETED', NOW() - INTERVAL '25 days', NOW() - INTERVAL '25 days'),
  ('rr333334-1111-1111-1111-111111111111', 'mm666666-6666-6666-6666-666666666666', '88888888-8888-8888-8888-888888888883', 'CONFIRMED', NOW() - INTERVAL '2 days', NOW()),
  ('rr333335-1111-1111-1111-111111111111', 'mm101010-1010-1010-1010-101010101010', '88888888-8888-8888-8888-888888888883', 'PENDING', NOW() + INTERVAL '15 days', NOW()),
  
  -- Thomas Petit (L2) - 6 missions
  ('rr444441-1111-1111-1111-111111111111', 'mm111111-1111-1111-1111-111111111111', '88888888-8888-8888-8888-888888888884', 'COMPLETED', NOW() - INTERVAL '60 days', NOW() - INTERVAL '60 days'),
  ('rr444442-1111-1111-1111-111111111111', 'mm222222-2222-2222-2222-222222222222', '88888888-8888-8888-8888-888888888884', 'COMPLETED', NOW() - INTERVAL '50 days', NOW() - INTERVAL '50 days'),
  ('rr444443-1111-1111-1111-111111111111', 'mm444444-4444-4444-4444-444444444444', '88888888-8888-8888-8888-888888888884', 'COMPLETED', NOW() - INTERVAL '35 days', NOW() - INTERVAL '35 days'),
  ('rr444444-1111-1111-1111-111111111111', 'mm666666-6666-6666-6666-666666666666', '88888888-8888-8888-8888-888888888884', 'CONFIRMED', NOW() - INTERVAL '2 days', NOW()),
  ('rr444445-1111-1111-1111-111111111111', 'mm888888-8888-8888-8888-888888888888', '88888888-8888-8888-8888-888888888884', 'PENDING', NOW() + INTERVAL '5 days', NOW()),
  ('rr444446-1111-1111-1111-111111111111', 'mm222200-2222-2222-2222-222222222222', '88888888-8888-8888-8888-888888888884', 'PENDING', NOW() + INTERVAL '25 days', NOW()),
  
  -- L√©a Robert (L3) - 5 missions
  ('rr555551-1111-1111-1111-111111111111', 'mm333333-3333-3333-3333-333333333333', '88888888-8888-8888-8888-888888888885', 'COMPLETED', NOW() - INTERVAL '40 days', NOW() - INTERVAL '40 days'),
  ('rr555552-1111-1111-1111-111111111111', 'mm555555-5555-5555-5555-555555555555', '88888888-8888-8888-8888-888888888885', 'COMPLETED', NOW() - INTERVAL '25 days', NOW() - INTERVAL '25 days'),
  ('rr555553-1111-1111-1111-111111111111', 'mm777777-7777-7777-7777-777777777777', '88888888-8888-8888-8888-888888888885', 'CONFIRMED', NOW() - INTERVAL '1 day', NOW()),
  ('rr555554-1111-1111-1111-111111111111', 'mm999999-9999-9999-9999-999999999999', '88888888-8888-8888-8888-888888888885', 'PENDING', NOW() + INTERVAL '10 days', NOW()),
  ('rr555555-1111-1111-1111-111111111111', 'mm333300-3333-3333-3333-333333333333', '88888888-8888-8888-8888-888888888885', 'PENDING', NOW() + INTERVAL '30 days', NOW()),
  
  -- Hugo Richard (L3) - 6 missions
  ('rr666661-1111-1111-1111-111111111111', 'mm111111-1111-1111-1111-111111111111', '88888888-8888-8888-8888-888888888886', 'COMPLETED', NOW() - INTERVAL '60 days', NOW() - INTERVAL '60 days'),
  ('rr666662-1111-1111-1111-111111111111', 'mm222222-2222-2222-2222-222222222222', '88888888-8888-8888-8888-888888888886', 'COMPLETED', NOW() - INTERVAL '50 days', NOW() - INTERVAL '50 days'),
  ('rr666663-1111-1111-1111-111111111111', 'mm333333-3333-3333-3333-333333333333', '88888888-8888-8888-8888-888888888886', 'COMPLETED', NOW() - INTERVAL '40 days', NOW() - INTERVAL '40 days'),
  ('rr666664-1111-1111-1111-111111111111', 'mm555555-5555-5555-5555-555555555555', '88888888-8888-8888-8888-888888888886', 'COMPLETED', NOW() - INTERVAL '25 days', NOW() - INTERVAL '25 days'),
  ('rr666665-1111-1111-1111-111111111111', 'mm777777-7777-7777-7777-777777777777', '88888888-8888-8888-8888-888888888886', 'CONFIRMED', NOW() - INTERVAL '1 day', NOW()),
  ('rr666666-1111-1111-1111-111111111111', 'mm101010-1010-1010-1010-101010101010', '88888888-8888-8888-8888-888888888886', 'PENDING', NOW() + INTERVAL '15 days', NOW()),
  
  -- Chlo√© Moreau (M1) - 5 missions
  ('rr777771-1111-1111-1111-111111111111', 'mm222222-2222-2222-2222-222222222222', '88888888-8888-8888-8888-888888888887', 'COMPLETED', NOW() - INTERVAL '50 days', NOW() - INTERVAL '50 days'),
  ('rr777772-1111-1111-1111-111111111111', 'mm444444-4444-4444-4444-444444444444', '88888888-8888-8888-8888-888888888887', 'COMPLETED', NOW() - INTERVAL '35 days', NOW() - INTERVAL '35 days'),
  ('rr777773-1111-1111-1111-111111111111', 'mm666666-6666-6666-6666-666666666666', '88888888-8888-8888-8888-888888888887', 'CONFIRMED', NOW() - INTERVAL '2 days', NOW()),
  ('rr777774-1111-1111-1111-111111111111', 'mm888888-8888-8888-8888-888888888888', '88888888-8888-8888-8888-888888888887', 'PENDING', NOW() + INTERVAL '5 days', NOW()),
  ('rr777775-1111-1111-1111-111111111111', 'mm111100-1111-1111-1111-111111111111', '88888888-8888-8888-8888-888888888887', 'PENDING', NOW() + INTERVAL '20 days', NOW()),
  
  -- Nathan Simon (M1) - 6 missions
  ('rr888881-1111-1111-1111-111111111111', 'mm111111-1111-1111-1111-111111111111', '88888888-8888-8888-8888-888888888888', 'COMPLETED', NOW() - INTERVAL '60 days', NOW() - INTERVAL '60 days'),
  ('rr888882-1111-1111-1111-111111111111', 'mm333333-3333-3333-3333-333333333333', '88888888-8888-8888-8888-888888888888', 'COMPLETED', NOW() - INTERVAL '40 days', NOW() - INTERVAL '40 days'),
  ('rr888883-1111-1111-1111-111111111111', 'mm555555-5555-5555-5555-555555555555', '88888888-8888-8888-8888-888888888888', 'COMPLETED', NOW() - INTERVAL '25 days', NOW() - INTERVAL '25 days'),
  ('rr888884-1111-1111-1111-111111111111', 'mm777777-7777-7777-7777-777777777777', '88888888-8888-8888-8888-888888888888', 'CONFIRMED', NOW() - INTERVAL '1 day', NOW()),
  ('rr888885-1111-1111-1111-111111111111', 'mm999999-9999-9999-9999-999999999999', '88888888-8888-8888-8888-888888888888', 'PENDING', NOW() + INTERVAL '10 days', NOW()),
  ('rr888886-1111-1111-1111-111111111111', 'mm222200-2222-2222-2222-222222222222', '88888888-8888-8888-8888-888888888888', 'PENDING', NOW() + INTERVAL '25 days', NOW()),
  
  -- Camille Laurent (M2) - 5 missions
  ('rr999991-1111-1111-1111-111111111111', 'mm222222-2222-2222-2222-222222222222', '88888888-8888-8888-8888-888888888889', 'COMPLETED', NOW() - INTERVAL '50 days', NOW() - INTERVAL '50 days'),
  ('rr999992-1111-1111-1111-111111111111', 'mm444444-4444-4444-4444-444444444444', '88888888-8888-8888-8888-888888888889', 'COMPLETED', NOW() - INTERVAL '35 days', NOW() - INTERVAL '35 days'),
  ('rr999993-1111-1111-1111-111111111111', 'mm555555-5555-5555-5555-555555555555', '88888888-8888-8888-8888-888888888889', 'COMPLETED', NOW() - INTERVAL '25 days', NOW() - INTERVAL '25 days'),
  ('rr999994-1111-1111-1111-111111111111', 'mm666666-6666-6666-6666-666666666666', '88888888-8888-8888-8888-888888888889', 'CONFIRMED', NOW() - INTERVAL '2 days', NOW()),
  ('rr999995-1111-1111-1111-111111111111', 'mm101010-1010-1010-1010-101010101010', '88888888-8888-8888-8888-888888888889', 'PENDING', NOW() + INTERVAL '15 days', NOW()),
  
  -- Alexandre Michel (M2) - 6 missions
  ('rr101011-1111-1111-1111-111111111111', 'mm111111-1111-1111-1111-111111111111', '88888888-8888-8888-8888-888888888890', 'COMPLETED', NOW() - INTERVAL '60 days', NOW() - INTERVAL '60 days'),
  ('rr101012-1111-1111-1111-111111111111', 'mm333333-3333-3333-3333-333333333333', '88888888-8888-8888-8888-888888888890', 'COMPLETED', NOW() - INTERVAL '40 days', NOW() - INTERVAL '40 days'),
  ('rr101013-1111-1111-1111-111111111111', 'mm444444-4444-4444-4444-444444444444', '88888888-8888-8888-8888-888888888890', 'COMPLETED', NOW() - INTERVAL '35 days', NOW() - INTERVAL '35 days'),
  ('rr101014-1111-1111-1111-111111111111', 'mm666666-6666-6666-6666-666666666666', '88888888-8888-8888-8888-888888888890', 'CONFIRMED', NOW() - INTERVAL '2 days', NOW()),
  ('rr101015-1111-1111-1111-111111111111', 'mm888888-8888-8888-8888-888888888888', '88888888-8888-8888-8888-888888888890', 'PENDING', NOW() + INTERVAL '5 days', NOW()),
  ('rr101016-1111-1111-1111-111111111111', 'mm333300-3333-3333-3333-333333333333', '88888888-8888-8888-8888-888888888890', 'PENDING', NOW() + INTERVAL '30 days', NOW())
ON CONFLICT (id) DO NOTHING;

-- ============================================
-- R√âSUM√â
-- ============================================
SELECT 
  '‚úÖ ' || COUNT(*) || ' missions cr√©√©es' as info
FROM missions 
WHERE id IN (
  'mm111111-1111-1111-1111-111111111111',
  'mm222222-2222-2222-2222-222222222222',
  'mm333333-3333-3333-3333-333333333333',
  'mm444444-4444-4444-4444-444444444444',
  'mm555555-5555-5555-5555-555555555555',
  'mm666666-6666-6666-6666-666666666666',
  'mm777777-7777-7777-7777-777777777777',
  'mm888888-8888-8888-8888-888888888888',
  'mm999999-9999-9999-9999-999999999999',
  'mm101010-1010-1010-1010-101010101010'
);

SELECT 
  '‚úÖ ' || COUNT(*) || ' inscriptions cr√©√©es' as info
FROM mission_registrations 
WHERE mission_id IN (
  'mm111111-1111-1111-1111-111111111111',
  'mm222222-2222-2222-2222-222222222222',
  'mm333333-3333-3333-3333-333333333333',
  'mm444444-4444-4444-4444-444444444444',
  'mm555555-5555-5555-5555-555555555555',
  'mm666666-6666-6666-6666-666666666666',
  'mm777777-7777-7777-7777-777777777777',
  'mm888888-8888-8888-8888-888888888888',
  'mm999999-9999-9999-9999-999999999999',
  'mm101010-1010-1010-1010-101010101010'
);

SELECT 'Donn√©es de test cr√©√©es avec succ√®s ! üéâ' as message;
